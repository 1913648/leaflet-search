<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<link rel="stylesheet" href="/leaflet/leaflet.css" />
<link rel="stylesheet" href="leaflet-search.css" />
<style>
#map {
	width:600px;
	height:400px;
	margin-right:1em;
	float:left;
}
#titles {
	list-style:none;
}
#copy {
	position:fixed;
	top:-.85em;
	right:20%;
	color:#00c;
	background:#fff;
	border-radius:.5em;
	box-shadow: 0 0 6px #888;	
	padding:1em .5em .25em .5em;
	z-index:4000;
	font-size:small;
	filter: alpha(opacity=70);
	-khtml-opacity: .7;
	-moz-opacity: .7;
	opacity: .7;		
}
</style>
</head>

<body>
<h3>Leaflet-Search Control</h3>

<a href="https://github.com/stefanocudini/leaflet-search">github.com/stefanocudini/leaflet-search</a>
<br />
<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=stefanocudini&repo=leaflet-search&type=fork&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="95px" height="20px"></iframe>
<br />


<h4>Simple Example: <em>search markers title</em></h4>
<div id="map"></div>

<em>Markers title list:</em><br />
<ul id="titles"></ul>

<div id="copy">powered by <a target="_blank" href="http://facebook.com/stef.cud">Stefano Cudini</a></div>

<script src="/leaflet/leaflet.js"></script>
<script src="leaflet-search.js"></script>
<script>
//sample positions
var coords = [
	{loc:[41.575730,13.002411], title:'red'},
	{loc:[41.807149,13.162994], title:'blue'},
	{loc:[41.546175,13.673590], title:'yellow'},
	{loc:[41.794008,12.583884], title:'green'},
	{loc:[41.239190,13.032145], title:'black'},
	{loc:[41.219190,13.062145], title:'cyan'},
	{loc:[41.319190,13.162145], title:'gray'},	
	{loc:[41.679190,13.122145], title:'darkred'},
	{loc:[41.344190,13.242145], title:'darkblue'}
];

var map = new L.Map('map', {center: new L.LatLng(coords[0].loc[0], coords[0].loc[1]), zoom: 9});

map.addLayer(new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'));

var searchLayer = new L.LayerGroup();

map.addLayer(searchLayer);

map.addControl(new L.Control.Search({layer: searchLayer}));


for(i in coords)
{
	var pos = new L.LatLng(coords[i].loc[0], coords[i].loc[1]),
		tit = coords[i].title;

	var marker = new L.Marker(pos, {title: tit } );
	searchLayer.addLayer(marker);

	//ul titles list
	var ul = L.DomUtil.get('titles');
	var li = L.DomUtil.create('li', '',ul);
	li.innerHTML = tit;
}



</script>

</body>
</html>
